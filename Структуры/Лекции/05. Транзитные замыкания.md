В ряде случаев интерес представляет лишь факт существует путь из вершины i в вершины j или нет. Задачу конечно можно решить алгоритмом Флойда. Однако, несколько раньше она была решена Уоршеллом.

Требуется преобразовать матрицу смежности A таким образом, что A i j = 1 тогда и только тогда когда существует путь из вершины i в вершину j, все остальные ровны 0. Такая матрица называется транзитивным замыканием J и если считать 0 - facle, а 1 - True, то по аналогии с алгоритмом Флойда: ```Ak[i][j]= Ak-1[i][j] or (Ak-1[i][k] and Ak-1[k][j])```


Пусть имеется граф J в котором первоначально все вершины помечены "не посещалось". Обход в глубину начинается с выбора начальной вершины v0 графа J, которая помечается "посещалось", затем для каждой вершины смежной с v0 еще не посещенной рекурсивно повторяется код в глубину.
Когда все вершину, которые можно посетить из v0 будут помечен, обход завершается. Если при этом в графе остались вершины еще не посещенные, можно выбрать одну из них и повторить обход снова, продолжая так до тех пора пока все вершины не будут помечены.
![[Pasted image 20240213160433.png|500]]
(не должно быть K - L ребра)

```c++
#include <iosеtream>
#include <fstream>
using namespace std;

int a[100][100]
int num =1 
void obhod(int *&metka, int i, int n){
	metkf[i]=num++;
	for (int j=0; j<n, j++)
		if (a[i][j]!=0 && metka [j]==0)
	
	
}

void main(){
	ifstream f("input.txt")
	int a[100][100]
	int n;
	f >> n;
	for (int i=0; i<n; i++)
		for (int j=0; j<n; j++)
			f >> a[i][j]
f.close();
cout << a[4][4] << endl;
cout << a[4][5] << endl;

int *mentka=new int[n];
for (int i=0; i<n; i++) metka[i]=0;

for (int i=0; i<n; i++)
	if (metka[i]==0)
		obhod(metka,n,i);

obhod (metka,n, 0);

for (int i=0; i<n; i++)
	cout << metka[i] << " ";

cout << endl
system("pause");

}
```
```txt
10
0 1 1 1 0 0 0 1 0 0 
1 0 0 1 0 0 0 0 0 0 
1 0 0 1 0 0 0 0 0 0
1 1 1 0 0 0 0 0 0 0 
0 0 0 0 0 1 1 0 0 0
0 0 0 0 1 0 1 0 0 0
0 0 0 0 1 1 0 0 0 0
1 0 0 0 0 0 0 0 1 1 
0 0 0 0 0 0 0 1 0 1
0 0 0 0 0 0 0 1 1 0 
```

При обходе графа в глубину помечается лишь некоторые ребра. Они составляют в графе так называемые глубинный оставный лес